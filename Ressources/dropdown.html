<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="dropdown.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Asap:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <img src="parcel.png" class="logo">
        <div class="text-logo">DronDrop</div>
        <div class="container">
            <a href="#">Accueil</a>
            <a href="#">Nos services</a>
            <a href="#">Contactez-nous</a>
        </div> 
    </header>
    <div class="section1">
        <div class="text">
            <p class="para1">Envoyez vos colis vers<br>
                 de nouveaux horizons</p>
            <p class="para2">Une solution de livraison par drones,garantissant une distribution rapide et sûre pour vos colis vers plusieurs distinations.</p>
            <button id="devis">Obtenez votre devis!</button>
        </div>
        <img src="drone.png" class="drone">
        </div>
    </div>
        <div class="section2">
            <h2 class="text1">Livraisons rapides par drones : 
                Votre colis, notre priorité aérienne!
            </h2>
            <p class="text2">Livraisons nationales assurées avec deux vitesses adaptées à vos drones fiables garantissent distribution rapide et sécurisée de vos colid,où que vous soyez, en offrant une solution ligistique efficiente et innovante.</p>
            <div class="prop">
               <div><h3 class="title">Vitesse adaptée</h3>
                <p class="desc">Standard ou Express,votre choix</p></div>
               <div><h3 class="title">Sécurité garantie</h3>
                <p  class="desc">Technologies avancées pour une livraison sûre</p></div>
                <div><h3 class="title">Fiabilité constante</h3>
                <p  class="desc">Drones pour des livraisons ponctuelles</p></div>
                <div><h3 class="title">Service clientèle</h3>
                <p  class="desc">Soutien attentif à chaque étape</p></div>
            </div>
        </div>
        <div class="section3">
            <h2 class="title1">SIMULATEUR</h2>
            <div class="chihaja">
            <div class="poid">
            <label for="poids">Poids:</label><br>
            <input type="text" id="poids"style="margin-right: 61px" placeholder="poids(kg)">
            </div>
            <div class="dim">
                <label for="dimension">Dimensions :</label><br>
                <input type="text" id="langeur" placeholder="Largeur(cm)">
                <span>X</span>
                <input type="text" id="largeur" placeholder="Langeur(cm)">
                <span>X</span>
                <input type="text" id="hauteur" placeholder="Hauteur(cm)">
                </div>
                <div>
                <label>Distance:</label><br>
                <select id="userselect"></select>
                </div>
            </div>
            <button id="calculer">Calculez maintenant!</button>
            </div>
<div class="section4" id ="section4">
    <h2 class="titll">VOS DEVIS</h2>
    <div class="cont">
      <div class="livraisonStand">
        <div>
        <p class="style">Livraison Standard</p>
        <p class="sous">3-5 jours</p>
        </div>
       <span class="price" id="prix">0 MAD</span><br>
       <button class="btn">Voir plus de détails</button>
    </div>
    <div class="livraisonExp">
        <p class="style">Livraison Express</p>
        <p class="sous">1-2 jours</p>
        <span class="price" id="prixex">0 MAD</span><br>
        <button class="btn">Voir plus de détails</button>
    </div>
    </div>
    <button class="imprimer" id="imprimer">Imprimer les devis</button>
</div>
<div class="footr">
    <div class="logoo">
        <img  class="imgfoot" src="parcel.png">
        <p>DroneDrop</p>
    </div>
    <div class="mycont">
    <div class="acces">
        <h2>Liens d’accès rapides</h2>
        <a href="#">Accueil</a>
        <a href="#">Nos Services</a>
        <a href="#">Contactez-nous</a>
        <a href="#">Termes et conditions</a>
        <a href="#">Informations complémentaires</a>
    </div>
    <div class="societe">
        <h2>Informations sur la société</h2>
        <a href="#">A propos de DroneDrop</a>
        <a href="#">Vision et innovation</a>
        <a href="#">Carrières</a>
        <a href="#">Partenariats</a>        
        <a href="#">Investisseurs</a>
    </div>
    <div class="nous">
        <h2>suivez-nous</h2>
        <img class="fc" src="facebook-logo.png">
        <img class="insta" src="instagram-logo.png">
    </div>
    </div>
</div>
<footer>2024 © - all rights reserved</footer>
<script>
    // Données JSON directement intégrées dans le script
    const data = {
        "tarifs": {
            "standard": {
                "base": 20,
                "poids": 5,
                "dimension": 0.1,
                "distance": {
                    "moins de 10 km": 5,
                    "entre 10km et 50km": 10,
                    "entre 50km et 100km": 15,
                    "entre 100km et 300km": 30,
                    "plus de 300km": 50
                }
            },
            "express": {
                "base": 30,
                "poids": 7,
                "dimension": 0.2,
                "distance": {
                    "moins de 10 km": 7,
                    "entre 10km et 50km": 15,
                    "entre 50km et 100km": 22,
                    "entre 100km et 300km": 40,
                    "plus de 300km": 65
                }
            }
        }
    };
    let userselect=document.getElementById("userselect");
    let tarif=data.tarifs.standard;
    let tariff =data.tarifs.express;
    if(tarif.distance){
        for(let distance in tarif.distance){
      let option=document.createElement("option");
      option.value= distance;
      option.textContent=`${distance}`;
      userselect.appendChild(option);
        }
    };
// Frais de livraison standard = Base + (Poids × Coefficient de poids) + (Somme des dimensions × Coefficient de
// dimension) + Frais additionnels de distance
// Formule de calcul pour la livraison express:
// Frais de livraison express = Base express + (Poids × Coefficient de poids express) + (Somme des dimensions ×
// Coefficient de dimension express) + Frais additionnels de distance express
    let calcule=document.getElementById("calculer");
    calcule.addEventListener("click",()=>{
        const selectuser = document.getElementById("userselect").value;
        const poid = parseFloat(document.getElementById("poids").value);
        const largeur = parseFloat(document.getElementById("largeur").value);
        const langeur=parseFloat(document.getElementById("langeur").value);
        const hauteur=parseFloat(document.getElementById("hauteur").value);
        let tarif = data.tarifs.standard;
        let tariff = data.tarifs.express;

        if(isNaN(poid)|| isNaN(largeur) ||isNaN(langeur)||isNaN(hauteur)){
            alert("veuillez entrer un number valid");
            return;
        }
        let resultStandard;
        let resultExpress;
        if(selectuser === "entre 100km et 300km"){
            resultStandard = tarif.base + (poid * tarif.poids) +((largeur+langeur+hauteur)*tarif.dimension)+tarif.distance["entre 100km et 300km"];
        }
        else if(selectuser === "moins de 10 km"){
             resultStandard = tarif.base + (poid * tarif.poids) + ((largeur + langeur + hauteur) * tarif.dimension) + tarif.distance["moins de 10 km"];
        } else if (selectuser ===  "entre 10km et 50km") {
           resultStandard = tarif.base + (poid * tarif.poids) + ((largeur + langeur + hauteur) * tarif.dimension) + tarif.distance[ "entre 10km et 50km"];
        }
         else if (selectuser === "entre 50km et 100km") {
            resultStandard = tarif.base + (poid * tarif.poids) + ((largeur + langeur + hauteur) * tarif.dimension) + tarif.distance["entre 50km et 100km"];
        }
         else if (selectuser === "plus de 300km") {
           resultStandard = tarif.base + (poid * tarif.poids) + ((largeur + langeur + hauteur) * tarif.dimension) + tarif.distance["plus de 300km"];
         }
          if (selectuser === "entre 100km et 300km") {
             resultExpress = tariff.base + (poid * tariff.poids) + ((largeur + langeur + hauteur) * tariff.dimension) + tariff.distance["entre 100km et 300km"];
        }
        else if (selectuser === "moins de 10 km") {
            resultExpress = tariff.base + (poid * tariff.poids) + ((largeur + langeur + hauteur) * tariff.dimension) + tariff.distance["moins de 10 km"];
        } else if (selectuser === "entre 10km et 50km") {
             resultExpress = tariff.base + (poid * tariff.poids) + ((largeur + langeur + hauteur) * tariff.dimension) + tariff.distance["entre 10km et 50km"];
        }
        else if (selectuser === "entre 50km et 100km") {
             resultExpress = tariff.base + (poid * tariff.poids) + ((largeur + langeur + hauteur) * tariff.dimension) + tariff.distance["entre 50km et 100km"];
        }
        else if (selectuser === "plus de 300km") {
            resultExpress = tariff.base + (poid * tariff.poids) + ((largeur + langeur + hauteur) * tariff.dimension) + tariff.distance["plus de 300km"];
        }
        document.getElementById("prix").innerHTML= `${resultStandard.toFixed(0)}MAD`;
         document.getElementById("prixex").innerHTML = `${resultExpress.toFixed(0)} MAD`;

        document.getElementById("section4").scrollIntoView({ behavior: "smooth" });
    })
  let imprimer = document.querySelector(".imprimer");

    imprimer.addEventListener("click", () => {
        const sectionToPrint = document.getElementById("section4"); // Récupérer la section à imprimer

        // Créer un nouvel iframe temporaire pour afficher la section à imprimer
        const iframe = document.createElement("iframe");
        iframe.style.position = "absolute";
        iframe.style.width = "0";
        iframe.style.height = "0";
        iframe.style.border = "none";
        document.body.appendChild(iframe);

        // Récupérer le contenu HTML de la section 4
        const iframeDoc = iframe.contentWindow.document;

        // Ajouter le contenu de la section 4 dans l'iframe
        iframeDoc.open();
        iframeDoc.write(`
        <html>
            <head>
                <title>Impression Devis</title>
                <style>
                    /* Ajoutez ici des styles pour l'impression si nécessaire */
                    body {
                        font-family: Arial, sans-serif;
                        margin: 20px;
                    }
                    .cont {
                        padding: 20px;
                        border: 1px solid #ccc;
                    }
                    .price {
                        font-size: 20px;
                        font-weight: bold;
                    }
                    /* Personnalisez ici le style pour l'impression */
                </style>
            </head>
            <body>
                ${sectionToPrint.innerHTML}
            </body>
        </html>
    `);
        iframeDoc.close();

        // Attendre que le contenu soit complètement chargé avant d'imprimer
        iframe.contentWindow.focus();
        iframe.contentWindow.print();

        // Supprimer l'iframe après l'impression
        iframe.remove();
    })
</script>
</body>
</html>